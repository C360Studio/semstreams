# OpenAPI 3.0 Specification for SemStreams Component API
# Generated by schema-exporter tool
# DO NOT EDIT MANUALLY - This file is auto-generated from component registrations

openapi: 3.0.3
info:
    title: SemStreams Component API
    description: HTTP API for component discovery, configuration, and flow management
    version: 1.0.0
servers:
    - url: http://localhost:8080
      description: Development server
    - url: http://localhost
      description: Production server (via reverse proxy)
paths:
    /components/flowgraph:
        get:
            summary: Get component flow graph
            description: Returns the complete flow graph with nodes and edges
            tags:
                - FlowGraph
            responses:
                "200":
                    description: Flow graph with nodes and edges
    /components/status/{name}:
        get:
            summary: Get component status
            description: Returns detailed status for a specific component instance
            tags:
                - Components
            parameters:
                - name: name
                  in: path
                  required: true
                  description: Component instance name
                  schema:
                    type: string
            responses:
                "200":
                    description: Component status
                "404":
                    description: Component not found
    /components/types:
        get:
            summary: List available component types
            description: Returns array of component metadata including schemas
            tags:
                - Components
            responses:
                "200":
                    description: Array of component types
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    $ref: '#/components/schemas/ComponentType'
    /components/types/{id}:
        get:
            summary: Get component type by ID
            description: Returns metadata and schema for a specific component type
            tags:
                - Components
            parameters:
                - name: id
                  in: path
                  required: true
                  description: Component type ID
                  schema:
                    type: string
            responses:
                "200":
                    description: Component type metadata
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ComponentType'
                "404":
                    description: Component type not found
    /components/validate:
        get:
            summary: Validate component flow connectivity
            description: Performs flow graph connectivity analysis
            tags:
                - FlowGraph
            responses:
                "200":
                    description: Flow connectivity analysis results
components:
    schemas:
        ComponentType:
            properties:
                category:
                    description: Component category
                    type: string
                description:
                    description: Component description
                    type: string
                domain:
                    description: Business domain (robotics, semantic, etc.)
                    type: string
                id:
                    description: Component ID
                    type: string
                name:
                    description: Human-readable name
                    type: string
                protocol:
                    description: Technical protocol (udp, tcp, etc.)
                    type: string
                schema:
                    description: Component configuration schema
                    oneOf:
                        - $ref: ../schemas/udp.v1.json
                        - $ref: ../schemas/objectstore.v1.json
                        - $ref: ../schemas/websocket.v1.json
                        - $ref: ../schemas/context-processor.v1.json
                        - $ref: ../schemas/websocket_input.v1.json
                        - $ref: ../schemas/json_map.v1.json
                        - $ref: ../schemas/file.v1.json
                        - $ref: ../schemas/http.v1.json
                        - $ref: ../schemas/graphql.v1.json
                        - $ref: ../schemas/json_filter.v1.json
                        - $ref: ../schemas/json_to_entity.v1.json
                        - $ref: ../schemas/json_generic.v1.json
                        - $ref: ../schemas/httppost.v1.json
                        - $ref: ../schemas/graph-processor.v1.json
                type:
                    description: Component type (input/processor/output/storage)
                    type: string
                version:
                    description: Component version
                    type: string
            required:
                - id
                - name
                - type
            type: object
tags:
    - name: Components
      description: Component management endpoints
    - name: FlowGraph
      description: Flow analysis and validation endpoints
